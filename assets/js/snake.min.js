$(document).ready(function () { let e = [{ x: 10, y: 10 }], a = { x: 0, y: 0 }, t, o, n = !1, s = !1; function y() { t = function a() { let t, o = !0; for (; o;)t = { x: Math.floor(10 * Math.random()), y: Math.floor(10 * Math.random()) }, o = e.some(e => e.x === t.x && e.y === t.y); return t }(), $(".snakeGame .player").find(".food").remove(), $(".snakeGame .player").append(`<div class="food" style="position: absolute; left: ${10 * t.x}px; top: ${10 * t.y}px; width: 10px; height: 10px;"></div>`) } function x() { s || (function n() { let x = { x: e[0].x + a.x, y: e[0].y + a.y }; e.unshift(x), x.x === t.x && x.y === t.y ? y() : e.pop(), e.slice(1).some(a => a.x === e[0].x && a.y === e[0].y) && (clearInterval(o), s = !0, $(".snakeGame .player .game-status").html("Game Over"), $("#startGame").text("Restart Game").show()) }(), $(".snakeGame .player").find(".snake-part").remove(), e.forEach((a, t) => { let o = `rgba(67, 217, 173, ${(e.length - t) / e.length})`; $(".snakeGame .player").append(`<div class="snake-part" style="position: absolute; left: ${10 * a.x}px; top: ${10 * a.y}px; width: 10px; height: 10px; background-color: ${o}; ${0 === t ? "border-radius: 50%;" : ""}"></div>`) })), n || s || ($(".snakeGame .player .game-status").html("Snake can travel outside"), n = !0) } $("#startGame").click(function () { e = [{ x: 10, y: 10 }], a = { x: 0, y: 0 }, n = !1, s = !1, $(".game-over").remove(), $(this).hide(), clearInterval(o), y(), o = setInterval(x, 200) }), $(document).keydown(function (e) { switch (e.which) { case 37: 0 === a.x && (a = { x: -1, y: 0 }); break; case 38: 0 === a.y && (a = { x: 0, y: -1 }); break; case 39: 0 === a.x && (a = { x: 1, y: 0 }); break; case 40: 0 === a.y && (a = { x: 0, y: 1 }) } }), $(".up").click(() => { 0 === a.y && (a = { x: 0, y: -1 }) }), $(".left").click(() => { 0 === a.x && (a = { x: -1, y: 0 }) }), $(".down").click(() => { 0 === a.y && (a = { x: 0, y: 1 }) }), $(".right").click(() => { 0 === a.x && (a = { x: 1, y: 0 }) }) });